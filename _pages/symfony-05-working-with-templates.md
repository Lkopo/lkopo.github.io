---
layout: page
title: Working with templates
permalink: /tutorial/symfony/05-working-with-templates
---

[_Symfony Templates docs_](https://symfony.com/doc/current/templates.html)

We have already working controller to show us random number based on our input if specified. As a bonus, we can display
that number on our already styled demo app. For that we need to

- create a new template which inherits from base template
- pass random number to the template and display it

For start, we will create a new template file with name `generate.html.twig` and place it
under `templates/random/` folder already generated by `make:controller` command with the following
content:

```twig
{% extends 'base.html.twig' %}

{% block title %}Random Number Generator{% endblock %}

{% block main %}
    <h1>Your number is {{ number }}</h1>
{% endblock %}

{% block sidebar %}
    {{ parent() }}

    {{ show_source_code(_self) }}
{% endblock %}
```

What was done here? This is a Twig syntax of extending template and filling content of the blocks. We use either `{% ... %}`
or `{{ ... }}` brackets. The first variation is used for anything unrelated with output of something. They can define _blocks_
which can be extended or overwritten by another templates, use loops or declare variables. Second variation wraps variable or
function call which provides some output the user will see.

So to explain our template, we first tell that we want to extend some base template `base.html.twig`. This template is located
in `templates/` folder. It contains the base layout of our whole application. Each template then extends this one and adds
additional content or rewrites the default one. If we extend something, we put `{% extends 'templatename.html.twig' %}`
at the beggining of the file. Then we overwrite blocks `title` and `main` with our new content where `main` has our wanted
value `{{ number }}`. Blocks have simple syntax:

```twig
{% block blockName %}content{% endblock %}
```

if we extend some template which has this block define and we want to overwrite the `content` to `my new content`, we will just
redefine this block in our new template:

```twig
{% block blockName %}my new content{% endblock %}
```

But wait, there is another one - block `sidebar`! Yes it is, but in this case, block is more extended than overwritten even though
it's technically overwriting. How so? Because of `{{ parent() }}`. This function call outputs the content of it's base template so if there
is something in the base template defined for that block, everything will be copied here plus our additional content.
The `show_source_code(_self)` function is a Twig function extension which is out of scope of this tutorial. In short, it was designed for
Symfony demo which will display _Show source code_ button which shows the source code of actual template and controller. It's definition
can be found at `src/Twig/SourceCodeExtension.php`.

Cool! Now as we our template ready, we can pass this value via controller using `$this->render()` method:

```php
<?php
// ...
class RandomController extends AbstractController
{
    // ...
    /**
     * @Route("/generate/{max}", name="random_generate", requirements={"max": "\d+"}, defaults={"max": 100})
     */
    public function generate(int $max)
    {
        $number = random_int(0, $max);

        return $this->render('random/generate.html.twig', [
            'number' => $number
        ]);
    }
}
```

the first argument is relevant path to template starting of `templates/` directory and second argument is array of all
parameters passed to the template.

Now we can refresh the page and should see a styled layout of our random number page. Clicking on _Show code_ button,
the content of `generate()` controller method and `generate.html.twig` template should be displayed.

## Making a navigation menu item to our new random number generator

Our navigation is part of the already mentioned base template. Let's update this `base.html.twig` template to insert our new item:

```twig
{% block header_navigation_links %}
    <li>
        <a href="{{ path('blog_index') }}">
            <i class="fa fa-home" aria-hidden="true"></i> {{ 'menu.homepage'|trans }}
        </a>
    </li>

    <!-- Add these lines -->
    <li>
        <a href="{{ path('random_generate', {max: 150}) }}">
            <i class="fa fa-dice" aria-hidden="true"></i> Random Number Generator
        </a>
    </li>

    <!-- The rest of the content.... -->
{% endblock %}
```

Function `path()` will generate an URL link to the route based on its name and will pass
`150` as input for `max`. If `max`'s input isn't defined, default value will be used instead.

Refresh the page and you should see _Random Number Generator_ link right next to the _Homepage_.

Let's continue to [exercise 06](/tutorial/symfony/06-working-with-database) where we will save our random numbers, display them
and making them possible to delete or update.
